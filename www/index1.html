function getPrayerTimes() {
  var xhr = new XMLHttpRequest();
  xhr.open("GET", "https://api.collectapi.com/pray/all?city=London", true);
  xhr.setRequestHeader("authorization", "apikey your_token");
  xhr.setRequestHeader("content-type", "application/json");

  xhr.onreadystatechange = function() {
    if (xhr.readyState === 4) {
      if (xhr.status === 200) {
        try {
          var data = JSON.parse(xhr.responseText);
          var times = {};
          
          // Map CollectAPI result to your IDs
          for (var i = 0; i < data.result.length; i++) {
            var item = data.result[i];
            if (item.vakit === "İmsak") times.fajr = item.saat;
            else if (item.vakit === "Öğle") times.dhuhr = item.saat;
            else if (item.vakit === "İkindi") times.asr = item.saat;
            else if (item.vakit === "Akşam") times.maghrib = item.saat;
            else if (item.vakit === "Yatsı") times.isha = item.saat;
          }

          // Fill HTML
          document.getElementById("fajr").innerHTML = times.fajr;
          document.getElementById("dhuhr").innerHTML = times.dhuhr;
          document.getElementById("asr").innerHTML = times.asr;
          document.getElementById("maghrib").innerHTML = times.maghrib;
          document.getElementById("isha").innerHTML = times.isha;

          // Save for highlight/azaans
          prayerTimes = times;
          lastDate = new Date().getDate();
          azaanPlayed = {};
        } catch(e) {
          console.log("Error parsing JSON: " + e);
          retryFetch();
        }
      } else {
        console.log("Request failed: " + xhr.status);
        retryFetch();
      }
    }
  };

  xhr.send();
}
